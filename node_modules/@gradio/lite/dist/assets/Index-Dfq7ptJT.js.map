{"version":3,"file":"Index-Dfq7ptJT.js","sources":["../../../image/dist/Index.svelte"],"sourcesContent":["<svelte:options accessors={true} />\n\n<script context=\"module\">export { default as Webcam } from \"./shared/Webcam.svelte\";\nexport { default as BaseImageUploader } from \"./shared/ImageUploader.svelte\";\nexport { default as BaseStaticImage } from \"./shared/ImagePreview.svelte\";\nexport { default as BaseExample } from \"./Example.svelte\";\nexport { default as BaseImage } from \"./shared/Image.svelte\";\n</script>\n\n<script>import StaticImage from \"./shared/ImagePreview.svelte\";\nimport ImageUploader from \"./shared/ImageUploader.svelte\";\nimport { afterUpdate } from \"svelte\";\nimport { Block, Empty, UploadText } from \"@gradio/atoms\";\nimport { Image } from \"@gradio/icons\";\nimport { StatusTracker } from \"@gradio/statustracker\";\nexport let value_is_output = false;\nexport let elem_id = \"\";\nexport let elem_classes = [];\nexport let visible = true;\nexport let value = null;\nlet old_value = null;\nexport let label;\nexport let show_label;\nexport let show_download_button;\nexport let root;\nexport let height;\nexport let width;\nexport let _selectable = false;\nexport let container = true;\nexport let scale = null;\nexport let min_width = void 0;\nexport let loading_status;\nexport let show_share_button = false;\nexport let sources = [\n  \"upload\",\n  \"clipboard\",\n  \"webcam\"\n];\nexport let interactive;\nexport let streaming;\nexport let pending;\nexport let mirror_webcam;\nexport let placeholder = void 0;\nexport let show_fullscreen_button;\nexport let gradio;\n$: {\n  if (JSON.stringify(value) !== JSON.stringify(old_value)) {\n    old_value = value;\n    gradio.dispatch(\"change\");\n    if (!value_is_output) {\n      gradio.dispatch(\"input\");\n    }\n  }\n}\nafterUpdate(() => {\n  value_is_output = false;\n});\nlet dragging;\nlet active_source = null;\nlet upload_component;\nconst handle_drag_event = (event) => {\n  const drag_event = event;\n  drag_event.preventDefault();\n  drag_event.stopPropagation();\n  if (drag_event.type === \"dragenter\" || drag_event.type === \"dragover\") {\n    dragging = true;\n  } else if (drag_event.type === \"dragleave\") {\n    dragging = false;\n  }\n};\nconst handle_drop = (event) => {\n  if (interactive) {\n    const drop_event = event;\n    drop_event.preventDefault();\n    drop_event.stopPropagation();\n    dragging = false;\n    if (upload_component) {\n      upload_component.loadFilesFromDrop(drop_event);\n    }\n  }\n};\n</script>\n\n{#if !interactive}\n\t<Block\n\t\t{visible}\n\t\tvariant={\"solid\"}\n\t\tborder_mode={dragging ? \"focus\" : \"base\"}\n\t\tpadding={false}\n\t\t{elem_id}\n\t\t{elem_classes}\n\t\theight={height || undefined}\n\t\t{width}\n\t\tallow_overflow={false}\n\t\t{container}\n\t\t{scale}\n\t\t{min_width}\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...loading_status}\n\t\t/>\n\t\t<StaticImage\n\t\t\ton:select={({ detail }) => gradio.dispatch(\"select\", detail)}\n\t\t\ton:share={({ detail }) => gradio.dispatch(\"share\", detail)}\n\t\t\ton:error={({ detail }) => gradio.dispatch(\"error\", detail)}\n\t\t\t{value}\n\t\t\t{label}\n\t\t\t{show_label}\n\t\t\t{show_download_button}\n\t\t\tselectable={_selectable}\n\t\t\t{show_share_button}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{show_fullscreen_button}\n\t\t/>\n\t</Block>\n{:else}\n\t<Block\n\t\t{visible}\n\t\tvariant={value === null ? \"dashed\" : \"solid\"}\n\t\tborder_mode={dragging ? \"focus\" : \"base\"}\n\t\tpadding={false}\n\t\t{elem_id}\n\t\t{elem_classes}\n\t\theight={height || undefined}\n\t\t{width}\n\t\tallow_overflow={false}\n\t\t{container}\n\t\t{scale}\n\t\t{min_width}\n\t\ton:dragenter={handle_drag_event}\n\t\ton:dragleave={handle_drag_event}\n\t\ton:dragover={handle_drag_event}\n\t\ton:drop={handle_drop}\n\t>\n\t\t<StatusTracker\n\t\t\tautoscroll={gradio.autoscroll}\n\t\t\ti18n={gradio.i18n}\n\t\t\t{...loading_status}\n\t\t\ton:clear_status={() => gradio.dispatch(\"clear_status\", loading_status)}\n\t\t/>\n\n\t\t<ImageUploader\n\t\t\tbind:this={upload_component}\n\t\t\tbind:active_source\n\t\t\tbind:value\n\t\t\tbind:dragging\n\t\t\tselectable={_selectable}\n\t\t\t{root}\n\t\t\t{sources}\n\t\t\ton:edit={() => gradio.dispatch(\"edit\")}\n\t\t\ton:clear={() => {\n\t\t\t\tgradio.dispatch(\"clear\");\n\t\t\t}}\n\t\t\ton:stream={() => gradio.dispatch(\"stream\")}\n\t\t\ton:drag={({ detail }) => (dragging = detail)}\n\t\t\ton:upload={() => gradio.dispatch(\"upload\")}\n\t\t\ton:select={({ detail }) => gradio.dispatch(\"select\", detail)}\n\t\t\ton:share={({ detail }) => gradio.dispatch(\"share\", detail)}\n\t\t\ton:error={({ detail }) => {\n\t\t\t\tloading_status = loading_status || {};\n\t\t\t\tloading_status.status = \"error\";\n\t\t\t\tgradio.dispatch(\"error\", detail);\n\t\t\t}}\n\t\t\t{label}\n\t\t\t{show_label}\n\t\t\t{pending}\n\t\t\t{streaming}\n\t\t\t{mirror_webcam}\n\t\t\tmax_file_size={gradio.max_file_size}\n\t\t\ti18n={gradio.i18n}\n\t\t\tupload={gradio.client.upload}\n\t\t\tstream_handler={gradio.client.stream}\n\t\t>\n\t\t\t{#if active_source === \"upload\" || !active_source}\n\t\t\t\t<UploadText i18n={gradio.i18n} type=\"image\" {placeholder} />\n\t\t\t{:else if active_source === \"clipboard\"}\n\t\t\t\t<UploadText i18n={gradio.i18n} type=\"clipboard\" mode=\"short\" />\n\t\t\t{:else}\n\t\t\t\t<Empty unpadded_box={true} size=\"large\"><Image /></Empty>\n\t\t\t{/if}\n\t\t</ImageUploader>\n\t</Block>\n{/if}\n"],"names":["ctx","dirty","block_changes","uploadtext_changes","imageuploader_changes","staticimage_changes","value_is_output","$$props","elem_id","elem_classes","visible","value","old_value","label","show_label","show_download_button","root","height","width","_selectable","container","scale","min_width","loading_status","show_share_button","sources","interactive","streaming","pending","mirror_webcam","placeholder","show_fullscreen_button","gradio","afterUpdate","$$invalidate","dragging","active_source","upload_component","handle_drag_event","event","drag_event","handle_drop","drop_event","select_handler","detail","share_handler","error_handler","clear_status_handler","$$value","select_handler_1","share_handler_1"],"mappings":"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"}