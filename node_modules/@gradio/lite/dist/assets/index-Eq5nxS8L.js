const __vite__fileDeps=["./module-CUWYYYlp.js","./module-C-VadMaF.js","../lite.js","../lite.css","./module-BA06XY8_.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as de,i as me,e as he,g,y as S,z as A,v as z,E as Ce,x as B,J as Oe,aI as We,Y as we,aK as lt,r as $,R as Te,C as y,w as x,Q as T,ac as ee,F as C,h as O,m as N,V as ue,ad as te,j as D,k as E,l as W,X as at,G as ce,H as _e,a9 as Ne,bd as le,aL as je,aN as Fe,ah as ut,aU as He,aP as ft,O as ae,n as ct,u as _t,o as dt,q as mt,L as ht,B as et,a2 as tt,aa as it,a6 as nt,ab as st}from"../lite.js";import{s as qe,W as gt,p as Ve,a as Ue,A as bt,S as wt}from"./StaticAudio-Dih_LH1H.js";import{U as vt}from"./Upload-BQQpOvI3.js";import{M as ot}from"./ModifyUpload-BH4qDw16.js";import{B as pt}from"./BlockLabel-BXhHlgLF.js";import{M as kt}from"./Music-_xYgoOF1.js";import{S as yt}from"./SelectSource-DZEGyp3d.js";import{P as Rt}from"./Trim-BujTzEpM.js";import{U as Dt}from"./UploadText-Bo_iPYvf.js";import{default as Ii}from"./Example-B5xheXrF.js";import"./Empty-DQJy8RTG.js";import"./ShareButton-Ciy_LqZ2.js";import"./Download-Cztu3L0x.js";import"./Undo-Bh9m2m4m.js";import"./file-url-D8iSvEay.js";import"./DownloadLink-4k_Toddh.js";/* empty css                                                   */import"./Upload-CGoSdWl8.js";function Be(i,e,t,n){return new(t||(t=Promise))(function(s,a){function o(_){try{r(n.next(_))}catch(l){a(l)}}function u(_){try{r(n.throw(_))}catch(l){a(l)}}function r(_){var l;_.done?s(_.value):(l=_.value,l instanceof t?l:new t(function(c){c(l)})).then(o,u)}r((n=n.apply(i,[])).next())})}class Et{constructor(){this.listeners={},this.on=this.addEventListener,this.un=this.removeEventListener}addEventListener(e,t,n){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t),n?.once){const s=()=>{this.removeEventListener(e,s),this.removeEventListener(e,t)};return this.addEventListener(e,s),s}return()=>this.removeEventListener(e,t)}removeEventListener(e,t){var n;(n=this.listeners[e])===null||n===void 0||n.delete(t)}once(e,t){return this.on(e,t,{once:!0})}unAll(){this.listeners={}}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach(n=>n(...t))}}class At extends Et{constructor(e){super(),this.subscriptions=[],this.options=e}onInit(){}init(e){this.wavesurfer=e,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(e=>e())}}const Mt=["audio/webm","audio/wav","audio/mpeg","audio/mp4","audio/mp3"];class be extends At{constructor(e){var t;super(Object.assign(Object.assign({},e),{audioBitsPerSecond:(t=e.audioBitsPerSecond)!==null&&t!==void 0?t:128e3})),this.stream=null,this.mediaRecorder=null}static create(e){return new be(e||{})}renderMicStream(e){const t=new AudioContext,n=t.createMediaStreamSource(e),s=t.createAnalyser();n.connect(s);const a=s.frequencyBinCount,o=new Float32Array(a),u=a/t.sampleRate;let r;const _=()=>{s.getFloatTimeDomainData(o),this.wavesurfer&&(this.wavesurfer.options.cursorWidth=0,this.wavesurfer.options.interact=!1,this.wavesurfer.load("",[o],u)),r=requestAnimationFrame(_)};return _(),()=>{cancelAnimationFrame(r),n?.disconnect(),t?.close()}}startMic(e){return Be(this,void 0,void 0,function*(){let t;try{t=yield navigator.mediaDevices.getUserMedia({audio:!e?.deviceId||{deviceId:e.deviceId}})}catch(s){throw new Error("Error accessing the microphone: "+s.message)}const n=this.renderMicStream(t);return this.subscriptions.push(this.once("destroy",n)),this.stream=t,t})}stopMic(){this.stream&&(this.stream.getTracks().forEach(e=>e.stop()),this.stream=null,this.mediaRecorder=null)}startRecording(e){return Be(this,void 0,void 0,function*(){const t=this.stream||(yield this.startMic(e)),n=this.mediaRecorder||new MediaRecorder(t,{mimeType:this.options.mimeType||Mt.find(a=>MediaRecorder.isTypeSupported(a)),audioBitsPerSecond:this.options.audioBitsPerSecond});this.mediaRecorder=n,this.stopRecording();const s=[];n.ondataavailable=a=>{a.data.size>0&&s.push(a.data)},n.onstop=()=>{var a;const o=new Blob(s,{type:n.mimeType});this.emit("record-end",o),this.options.renderRecordedAudio!==!1&&((a=this.wavesurfer)===null||a===void 0||a.load(URL.createObjectURL(o)))},n.start(),this.emit("record-start")})}isRecording(){var e;return((e=this.mediaRecorder)===null||e===void 0?void 0:e.state)==="recording"}isPaused(){var e;return((e=this.mediaRecorder)===null||e===void 0?void 0:e.state)==="paused"}stopRecording(){var e;this.isRecording()&&((e=this.mediaRecorder)===null||e===void 0||e.stop())}pauseRecording(){var e;this.isRecording()&&((e=this.mediaRecorder)===null||e===void 0||e.pause(),this.emit("record-pause"))}resumeRecording(){var e;this.isPaused()&&((e=this.mediaRecorder)===null||e===void 0||e.resume(),this.emit("record-resume"))}static getAvailableAudioDevices(){return Be(this,void 0,void 0,function*(){return navigator.mediaDevices.enumerateDevices().then(e=>e.filter(t=>t.kind==="audioinput"))})}destroy(){super.destroy(),this.stopRecording(),this.stopMic()}}function Je(i,e,t){const n=i.slice();return n[3]=e[t],n}function St(i){let e,t=We(i[0]),n=[];for(let s=0;s<t.length;s+=1)n[s]=Ge(Je(i,t,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=we()},m(s,a){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,a);z(s,e,a)},p(s,a){if(a&1){t=We(s[0]);let o;for(o=0;o<t.length;o+=1){const u=Je(s,t,o);n[o]?n[o].p(u,a):(n[o]=Ge(u),n[o].c(),n[o].m(e.parentNode,e))}for(;o<n.length;o+=1)n[o].d(1);n.length=t.length}},d(s){s&&B(e),lt(n,s)}}}function Pt(i){let e,t=i[1]("audio.no_microphone")+"",n;return{c(){e=S("option"),n=$(t),e.__value="",Te(e,e.__value)},m(s,a){z(s,e,a),y(e,n)},p(s,a){a&2&&t!==(t=s[1]("audio.no_microphone")+"")&&x(n,t)},d(s){s&&B(e)}}}function Ge(i){let e,t=i[3].label+"",n,s;return{c(){e=S("option"),n=$(t),e.__value=s=i[3].deviceId,Te(e,e.__value)},m(a,o){z(a,e,o),y(e,n)},p(a,o){o&1&&t!==(t=a[3].label+"")&&x(n,t),o&1&&s!==(s=a[3].deviceId)&&(e.__value=s,Te(e,e.__value))},d(a){a&&B(e)}}}function Lt(i){let e,t;function n(o,u){return o[0].length===0?Pt:St}let s=n(i),a=s(i);return{c(){e=S("select"),a.c(),A(e,"class","mic-select svelte-1v4948z"),A(e,"aria-label","Select input device"),e.disabled=t=i[0].length===0},m(o,u){z(o,e,u),a.m(e,null)},p(o,[u]){s===(s=n(o))&&a?a.p(o,u):(a.d(1),a=s(o),a&&(a.c(),a.m(e,null))),u&1&&t!==(t=o[0].length===0)&&(e.disabled=t)},i:Ce,o:Ce,d(o){o&&B(e),a.d()}}}function It(i,e,t){let{i18n:n}=e,{micDevices:s=[]}=e;const a=Oe();return i.$$set=o=>{"i18n"in o&&t(1,n=o.i18n),"micDevices"in o&&t(0,s=o.micDevices)},i.$$.update=()=>{if(i.$$.dirty&2)try{let o=[];be.getAvailableAudioDevices().then(u=>{t(0,s=u),u.forEach(r=>{r.deviceId&&o.push(r)}),t(0,s=o)})}catch(o){throw o instanceof DOMException&&o.name=="NotAllowedError"&&a("error",n("audio.allow_recording_access")),o}},[s,n]}class rt extends de{constructor(e){super(),me(this,e,It,Lt,he,{i18n:1,micDevices:0})}get i18n(){return this.$$.ctx[1]}set i18n(e){this.$$set({i18n:e}),g()}get micDevices(){return this.$$.ctx[0]}set micDevices(e){this.$$set({micDevices:e}),g()}}function Ye(i){let e,t;return{c(){e=S("time"),t=$(i[2]),A(e,"class","duration-button duration svelte-1d9m1oy")},m(n,s){z(n,e,s),y(e,t)},p(n,s){s&4&&x(t,n[2])},d(n){n&&B(e)}}}function zt(i){let e,t,n,s=i[1]("audio.record")+"",a,o,u,r=i[1]("audio.stop")+"",_,l,c,d,m=i[1]("audio.stop")+"",v,b,p,M,P,k,J=i[1]("audio.resume")+"",G,U,Q,j,h,L,F,H;M=new Rt({});let I=i[4]&&!i[3]&&Ye(i);function X(R){i[21](R)}let q={i18n:i[1]};return i[5]!==void 0&&(q.micDevices=i[5]),j=new rt({props:q}),T.push(()=>ee(j,"micDevices",X)),{c(){e=S("div"),t=S("div"),n=S("button"),a=$(s),o=C(),u=S("button"),_=$(r),c=C(),d=S("button"),v=$(m),b=C(),p=S("button"),O(M.$$.fragment),P=C(),k=S("button"),G=$(J),U=C(),I&&I.c(),Q=C(),O(j.$$.fragment),A(n,"class","record record-button svelte-1d9m1oy"),A(u,"class",l="stop-button "+(i[0].isPaused()?"stop-button-paused":"")+" svelte-1d9m1oy"),A(d,"id","stop-paused"),A(d,"class","stop-button-paused svelte-1d9m1oy"),A(p,"aria-label","pause"),A(p,"class","pause-button svelte-1d9m1oy"),A(k,"class","resume-button svelte-1d9m1oy"),A(t,"class","wrapper svelte-1d9m1oy"),A(e,"class","controls svelte-1d9m1oy")},m(R,V){z(R,e,V),y(e,t),y(t,n),y(n,a),i[11](n),y(t,o),y(t,u),y(u,_),i[13](u),y(t,c),y(t,d),y(d,v),i[15](d),y(t,b),y(t,p),N(M,p,null),i[17](p),y(t,P),y(t,k),y(k,G),i[19](k),y(t,U),I&&I.m(t,null),y(e,Q),N(j,e,null),L=!0,F||(H=[ue(n,"click",i[12]),ue(u,"click",i[14]),ue(d,"click",i[16]),ue(p,"click",i[18]),ue(k,"click",i[20])],F=!0)},p(R,[V]){(!L||V&2)&&s!==(s=R[1]("audio.record")+"")&&x(a,s),(!L||V&2)&&r!==(r=R[1]("audio.stop")+"")&&x(_,r),(!L||V&1&&l!==(l="stop-button "+(R[0].isPaused()?"stop-button-paused":"")+" svelte-1d9m1oy"))&&A(u,"class",l),(!L||V&2)&&m!==(m=R[1]("audio.stop")+"")&&x(v,m),(!L||V&2)&&J!==(J=R[1]("audio.resume")+"")&&x(G,J),R[4]&&!R[3]?I?I.p(R,V):(I=Ye(R),I.c(),I.m(t,null)):I&&(I.d(1),I=null);const se={};V&2&&(se.i18n=R[1]),!h&&V&32&&(h=!0,se.micDevices=R[5],te(()=>h=!1)),j.$set(se)},i(R){L||(D(M.$$.fragment,R),D(j.$$.fragment,R),L=!0)},o(R){E(M.$$.fragment,R),E(j.$$.fragment,R),L=!1},d(R){R&&B(e),i[11](null),i[13](null),i[15](null),W(M),i[17](null),i[19](null),I&&I.d(),W(j),F=!1,at(H)}}}function Bt(i,e,t){let{record:n}=e,{i18n:s}=e,a=[],o,u,r,_,l,{record_time:c}=e,{show_recording_waveform:d}=e,{timing:m=!1}=e;function v(h){T[h?"unshift":"push"](()=>{o=h,t(6,o),t(0,n)})}const b=()=>n.startRecording();function p(h){T[h?"unshift":"push"](()=>{_=h,t(9,_),t(0,n)})}const M=()=>{n.isPaused()&&(n.resumeRecording(),n.stopRecording()),n.stopRecording()};function P(h){T[h?"unshift":"push"](()=>{l=h,t(10,l),t(0,n)})}const k=()=>{n.isPaused()&&(n.resumeRecording(),n.stopRecording()),n.stopRecording()};function J(h){T[h?"unshift":"push"](()=>{u=h,t(7,u),t(0,n)})}const G=()=>n.pauseRecording();function U(h){T[h?"unshift":"push"](()=>{r=h,t(8,r),t(0,n)})}const Q=()=>n.resumeRecording();function j(h){a=h,t(5,a)}return i.$$set=h=>{"record"in h&&t(0,n=h.record),"i18n"in h&&t(1,s=h.i18n),"record_time"in h&&t(2,c=h.record_time),"show_recording_waveform"in h&&t(3,d=h.show_recording_waveform),"timing"in h&&t(4,m=h.timing)},i.$$.update=()=>{i.$$.dirty&1&&n.on("record-start",()=>{n.startMic(),t(6,o.style.display="none",o),t(9,_.style.display="flex",_),t(7,u.style.display="block",u)}),i.$$.dirty&1&&n.on("record-end",()=>{n.isPaused()&&(n.resumeRecording(),n.stopRecording()),n.stopMic(),t(6,o.style.display="flex",o),t(9,_.style.display="none",_),t(7,u.style.display="none",u),t(6,o.disabled=!1,o)}),i.$$.dirty&1&&n.on("record-pause",()=>{t(7,u.style.display="none",u),t(8,r.style.display="block",r),t(9,_.style.display="none",_),t(10,l.style.display="flex",l)}),i.$$.dirty&1&&n.on("record-resume",()=>{t(7,u.style.display="block",u),t(8,r.style.display="none",r),t(6,o.style.display="none",o),t(9,_.style.display="flex",_),t(10,l.style.display="none",l)})},[n,s,c,d,m,a,o,u,r,_,l,v,b,p,M,P,k,J,G,U,Q,j]}class Ct extends de{constructor(e){super(),me(this,e,Bt,zt,he,{record:0,i18n:1,record_time:2,show_recording_waveform:3,timing:4})}get record(){return this.$$.ctx[0]}set record(e){this.$$set({record:e}),g()}get i18n(){return this.$$.ctx[1]}set i18n(e){this.$$set({i18n:e}),g()}get record_time(){return this.$$.ctx[2]}set record_time(e){this.$$set({record_time:e}),g()}get show_recording_waveform(){return this.$$.ctx[3]}set show_recording_waveform(e){this.$$set({show_recording_waveform:e}),g()}get timing(){return this.$$.ctx[4]}set timing(e){this.$$set({timing:e}),g()}}function Ke(i){let e,t,n,s,a,o=i[0]==="edit"&&i[16]>0&&Qe(i);function u(l,c){return l[15]?Ut:Tt}let r=u(i),_=r(i);return{c(){e=S("div"),t=S("time"),t.textContent="0:00",n=C(),s=S("div"),o&&o.c(),a=C(),_.c(),A(t,"class","time svelte-9n45fh"),A(e,"class","timestamps svelte-9n45fh")},m(l,c){z(l,e,c),y(e,t),i[23](t),y(e,n),y(e,s),o&&o.m(s,null),y(s,a),_.m(s,null)},p(l,c){l[0]==="edit"&&l[16]>0?o?o.p(l,c):(o=Qe(l),o.c(),o.m(s,a)):o&&(o.d(1),o=null),r===(r=u(l))&&_?_.p(l,c):(_.d(1),_=r(l),_&&(_.c(),_.m(s,null)))},d(l){l&&B(e),i[23](null),o&&o.d(),_.d()}}}function Qe(i){let e,t=le(i[16])+"",n;return{c(){e=S("time"),n=$(t),A(e,"class","trim-duration svelte-9n45fh")},m(s,a){z(s,e,a),y(e,n)},p(s,a){a[0]&65536&&t!==(t=le(s[16])+"")&&x(n,t)},d(s){s&&B(e)}}}function Tt(i){let e;return{c(){e=S("time"),e.textContent="0:00",A(e,"class","duration svelte-9n45fh")},m(t,n){z(t,e,n),i[24](e)},p:Ce,d(t){t&&B(e),i[24](null)}}}function Ut(i){let e,t=le(i[14])+"",n;return{c(){e=S("time"),n=$(t),A(e,"class","duration svelte-9n45fh")},m(s,a){z(s,e,a),y(e,n)},p(s,a){a[0]&16384&&t!==(t=le(s[14])+"")&&x(n,t)},d(s){s&&B(e)}}}function Xe(i){let e,t,n;function s(o){i[25](o)}let a={i18n:i[1],timing:i[15],show_recording_waveform:i[2].show_recording_waveform,record_time:le(i[14])};return i[8]!==void 0&&(a.record=i[8]),e=new Ct({props:a}),T.push(()=>ee(e,"record",s)),{c(){O(e.$$.fragment)},m(o,u){N(e,o,u),n=!0},p(o,u){const r={};u[0]&2&&(r.i18n=o[1]),u[0]&32768&&(r.timing=o[15]),u[0]&4&&(r.show_recording_waveform=o[2].show_recording_waveform),u[0]&16384&&(r.record_time=le(o[14])),!t&&u[0]&256&&(t=!0,r.record=o[8],te(()=>t=!1)),e.$set(r)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function Ze(i){let e,t,n,s,a;function o(l){i[26](l)}function u(l){i[27](l)}function r(l){i[28](l)}let _={container:i[6],playing:i[12],audio_duration:i[13],i18n:i[1],editable:i[4],interactive:!0,handle_trim_audio:i[17],show_redo:!0,handle_reset_value:i[3],waveform_options:i[2]};return i[5]!==void 0&&(_.waveform=i[5]),i[16]!==void 0&&(_.trimDuration=i[16]),i[0]!==void 0&&(_.mode=i[0]),e=new gt({props:_}),T.push(()=>ee(e,"waveform",o)),T.push(()=>ee(e,"trimDuration",u)),T.push(()=>ee(e,"mode",r)),{c(){O(e.$$.fragment)},m(l,c){N(e,l,c),a=!0},p(l,c){const d={};c[0]&64&&(d.container=l[6]),c[0]&4096&&(d.playing=l[12]),c[0]&8192&&(d.audio_duration=l[13]),c[0]&2&&(d.i18n=l[1]),c[0]&16&&(d.editable=l[4]),c[0]&8&&(d.handle_reset_value=l[3]),c[0]&4&&(d.waveform_options=l[2]),!t&&c[0]&32&&(t=!0,d.waveform=l[5],te(()=>t=!1)),!n&&c[0]&65536&&(n=!0,d.trimDuration=l[16],te(()=>n=!1)),!s&&c[0]&1&&(s=!0,d.mode=l[0],te(()=>s=!1)),e.$set(d)},i(l){a||(D(e.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),a=!1},d(l){W(e,l)}}}function Ot(i){let e,t,n,s,a,o,u,r,_=(i[15]||i[9])&&i[2].show_recording_waveform&&Ke(i),l=i[7]&&!i[9]&&Xe(i),c=i[5]&&i[9]&&Ze(i);return{c(){e=S("div"),t=S("div"),n=C(),s=S("div"),a=C(),_&&_.c(),o=C(),l&&l.c(),u=C(),c&&c.c(),A(t,"class","microphone svelte-9n45fh"),A(t,"data-testid","microphone-waveform"),A(s,"data-testid","recording-waveform"),A(e,"class","component-wrapper svelte-9n45fh")},m(d,m){z(d,e,m),y(e,t),i[21](t),y(e,n),y(e,s),i[22](s),y(e,a),_&&_.m(e,null),y(e,o),l&&l.m(e,null),y(e,u),c&&c.m(e,null),r=!0},p(d,m){(d[15]||d[9])&&d[2].show_recording_waveform?_?_.p(d,m):(_=Ke(d),_.c(),_.m(e,o)):_&&(_.d(1),_=null),d[7]&&!d[9]?l?(l.p(d,m),m[0]&640&&D(l,1)):(l=Xe(d),l.c(),D(l,1),l.m(e,u)):l&&(ce(),E(l,1,1,()=>{l=null}),_e()),d[5]&&d[9]?c?(c.p(d,m),m[0]&544&&D(c,1)):(c=Ze(d),c.c(),D(c,1),c.m(e,null)):c&&(ce(),E(c,1,1,()=>{c=null}),_e())},i(d){r||(D(l),D(c),r=!0)},o(d){E(l),E(c),r=!1},d(d){d&&B(e),i[21](null),i[22](null),_&&_.d(),l&&l.d(),c&&c.d()}}}function Nt(i,e,t){let{mode:n}=e,{i18n:s}=e,{dispatch_blob:a}=e,{waveform_settings:o}=e,{waveform_options:u={show_recording_waveform:!0}}=e,{handle_reset_value:r}=e,{editable:_=!0}=e,l,c,d=!1,m,v,b,p=null,M,P,k,J=0,G,U=!1,Q=0;const j=()=>{clearInterval(G),t(20,G=setInterval(()=>{t(14,J++,J)},1e3))},h=Oe(),L=()=>{v&&t(7,v.innerHTML="",v),l!==void 0&&l.destroy(),v&&(l=Ue.create({...o,normalize:!1,container:v}),t(8,b=l.registerPlugin(be.create())),b.startMic())},F=()=>{let w=m;!p||!w||t(5,c=Ue.create({container:w,url:p,...o}))},H=async(w,Z)=>{t(0,n="edit");const ne=c.getDecodedData();ne&&await Ve(ne,w,Z).then(async oe=>{await a([oe],"change"),await a([oe],"stop_recording"),c.destroy(),F()}),h("edit")};Ne(()=>{L(),window.addEventListener("keydown",w=>{w.key==="ArrowRight"?qe(c,.1):w.key==="ArrowLeft"&&qe(c,-.1)})});function I(w){T[w?"unshift":"push"](()=>{v=w,t(7,v)})}function X(w){T[w?"unshift":"push"](()=>{m=w,t(6,m)})}function q(w){T[w?"unshift":"push"](()=>{M=w,t(10,M),t(5,c)})}function R(w){T[w?"unshift":"push"](()=>{P=w,t(11,P),t(5,c)})}function V(w){b=w,t(8,b)}function se(w){c=w,t(5,c)}function Y(w){Q=w,t(16,Q)}function ie(w){n=w,t(0,n)}return i.$$set=w=>{"mode"in w&&t(0,n=w.mode),"i18n"in w&&t(1,s=w.i18n),"dispatch_blob"in w&&t(18,a=w.dispatch_blob),"waveform_settings"in w&&t(19,o=w.waveform_settings),"waveform_options"in w&&t(2,u=w.waveform_options),"handle_reset_value"in w&&t(3,r=w.handle_reset_value),"editable"in w&&t(4,_=w.editable)},i.$$.update=()=>{i.$$.dirty[0]&388&&b?.on("record-start",()=>{if(j(),t(15,U=!0),h("start_recording"),u.show_recording_waveform){let w=v;w&&(w.style.display="block")}}),i.$$.dirty[0]&1835264&&b?.on("record-end",async w=>{t(14,J=0),t(15,U=!1),clearInterval(G);try{const Z=await w.arrayBuffer(),oe=await new AudioContext({sampleRate:o.sampleRate}).decodeAudioData(Z);oe&&await Ve(oe).then(async fe=>{await a([fe],"change"),await a([fe],"stop_recording")})}catch(Z){console.error(Z)}}),i.$$.dirty[0]&1048832&&b?.on("record-pause",()=>{h("pause_recording"),clearInterval(G)}),i.$$.dirty[0]&256&&b?.on("record-resume",()=>{j()}),i.$$.dirty[0]&2080&&c?.on("decode",w=>{t(13,k=w),P&&t(11,P.textContent=le(w),P)}),i.$$.dirty[0]&1056&&c?.on("timeupdate",w=>M&&t(10,M.textContent=le(w),M)),i.$$.dirty[0]&32&&c?.on("pause",()=>{h("pause"),t(12,d=!1)}),i.$$.dirty[0]&32&&c?.on("play",()=>{h("play"),t(12,d=!0)}),i.$$.dirty[0]&32&&c?.on("finish",()=>{h("stop"),t(12,d=!1)}),i.$$.dirty[0]&960&&b?.on("record-end",w=>{t(9,p=URL.createObjectURL(w));const Z=v,ne=m;Z&&(Z.style.display="none"),ne&&p&&(ne.innerHTML="",F())})},[n,s,u,r,_,c,m,v,b,p,M,P,d,k,J,U,Q,H,a,o,G,I,X,q,R,V,se,Y,ie]}class Wt extends de{constructor(e){super(),me(this,e,Nt,Ot,he,{mode:0,i18n:1,dispatch_blob:18,waveform_settings:19,waveform_options:2,handle_reset_value:3,editable:4},null,[-1,-1])}get mode(){return this.$$.ctx[0]}set mode(e){this.$$set({mode:e}),g()}get i18n(){return this.$$.ctx[1]}set i18n(e){this.$$set({i18n:e}),g()}get dispatch_blob(){return this.$$.ctx[18]}set dispatch_blob(e){this.$$set({dispatch_blob:e}),g()}get waveform_settings(){return this.$$.ctx[19]}set waveform_settings(e){this.$$set({waveform_settings:e}),g()}get waveform_options(){return this.$$.ctx[2]}set waveform_options(e){this.$$set({waveform_options:e}),g()}get handle_reset_value(){return this.$$.ctx[3]}set handle_reset_value(e){this.$$set({handle_reset_value:e}),g()}get editable(){return this.$$.ctx[4]}set editable(e){this.$$set({editable:e}),g()}}function $e(i){let e;return{c(){e=S("div"),je(e,"display",i[0]?"block":"none")},m(t,n){z(t,e,n),i[10](e)},p(t,n){n&1&&je(e,"display",t[0]?"block":"none")},d(t){t&&B(e),i[10](null)}}}function jt(i){let e,t,n,s=i[4]("audio.record")+"",a,o,u;return{c(){e=S("button"),t=S("span"),t.innerHTML='<span class="dot"></span>',n=C(),a=$(s),A(t,"class","record-icon"),A(e,"class","record-button svelte-1m31gsz")},m(r,_){z(r,e,_),y(e,t),y(e,n),y(e,a),o||(u=ue(e,"click",i[12]),o=!0)},p(r,_){_&16&&s!==(s=r[4]("audio.record")+"")&&x(a,s)},d(r){r&&B(e),o=!1,u()}}}function Ft(i){let e,t,n,s=(i[1]?i[4]("audio.pause"):i[4]("audio.stop"))+"",a,o,u,r;return{c(){e=S("button"),t=S("span"),t.innerHTML='<span class="pinger"></span> <span class="dot"></span>',n=C(),a=$(s),A(t,"class","record-icon"),A(e,"class",o=Fe(i[1]?"stop-button-paused":"stop-button")+" svelte-1m31gsz")},m(_,l){z(_,e,l),y(e,t),y(e,n),y(e,a),u||(r=ue(e,"click",i[11]),u=!0)},p(_,l){l&18&&s!==(s=(_[1]?_[4]("audio.pause"):_[4]("audio.stop"))+"")&&x(a,s),l&2&&o!==(o=Fe(_[1]?"stop-button-paused":"stop-button")+" svelte-1m31gsz")&&A(e,"class",o)},d(_){_&&B(e),u=!1,r()}}}function Ht(i){let e,t,n,s,a,o,u,r=i[5].show_recording_waveform&&$e(i);function _(v,b){return v[0]?Ft:jt}let l=_(i),c=l(i);function d(v){i[13](v)}let m={i18n:i[4]};return i[8]!==void 0&&(m.micDevices=i[8]),a=new rt({props:m}),T.push(()=>ee(a,"micDevices",d)),{c(){e=S("div"),r&&r.c(),t=C(),n=S("div"),c.c(),s=C(),O(a.$$.fragment),A(n,"class","controls svelte-1m31gsz"),A(e,"class","mic-wrap svelte-1m31gsz")},m(v,b){z(v,e,b),r&&r.m(e,null),y(e,t),y(e,n),c.m(n,null),y(n,s),N(a,n,null),u=!0},p(v,[b]){v[5].show_recording_waveform?r?r.p(v,b):(r=$e(v),r.c(),r.m(e,t)):r&&(r.d(1),r=null),l===(l=_(v))&&c?c.p(v,b):(c.d(1),c=l(v),c&&(c.c(),c.m(n,s)));const p={};b&16&&(p.i18n=v[4]),!o&&b&256&&(o=!0,p.micDevices=v[8],te(()=>o=!1)),a.$set(p)},i(v){u||(D(a.$$.fragment,v),u=!0)},o(v){E(a.$$.fragment,v),u=!1},d(v){v&&B(e),r&&r.d(),c.d(),W(a)}}}function qt(i,e,t){let{recording:n=!1}=e,{paused_recording:s=!1}=e,{stop:a}=e,{record:o}=e,{i18n:u}=e,{waveform_settings:r}=e,{waveform_options:_={show_recording_waveform:!0}}=e,l,c,d,m=[];Ne(()=>{v()});const v=()=>{l!==void 0&&l.destroy(),d&&(l=Ue.create({...r,height:100,container:d}),t(6,c=l.registerPlugin(be.create())))};function b(k){T[k?"unshift":"push"](()=>{d=k,t(7,d)})}const p=()=>{c?.stopMic(),a()},M=()=>{c?.startMic(),o()};function P(k){m=k,t(8,m)}return i.$$set=k=>{"recording"in k&&t(0,n=k.recording),"paused_recording"in k&&t(1,s=k.paused_recording),"stop"in k&&t(2,a=k.stop),"record"in k&&t(3,o=k.record),"i18n"in k&&t(4,u=k.i18n),"waveform_settings"in k&&t(9,r=k.waveform_settings),"waveform_options"in k&&t(5,_=k.waveform_options)},[n,s,a,o,u,_,c,d,m,r,b,p,M,P]}class Vt extends de{constructor(e){super(),me(this,e,qt,Ht,he,{recording:0,paused_recording:1,stop:2,record:3,i18n:4,waveform_settings:9,waveform_options:5})}get recording(){return this.$$.ctx[0]}set recording(e){this.$$set({recording:e}),g()}get paused_recording(){return this.$$.ctx[1]}set paused_recording(e){this.$$set({paused_recording:e}),g()}get stop(){return this.$$.ctx[2]}set stop(e){this.$$set({stop:e}),g()}get record(){return this.$$.ctx[3]}set record(e){this.$$set({record:e}),g()}get i18n(){return this.$$.ctx[4]}set i18n(e){this.$$set({i18n:e}),g()}get waveform_settings(){return this.$$.ctx[9]}set waveform_settings(e){this.$$set({waveform_settings:e}),g()}get waveform_options(){return this.$$.ctx[5]}set waveform_options(e){this.$$set({waveform_options:e}),g()}}function Jt(i){let e,t,n,s,a;e=new ot({props:{i18n:i[10],download:i[7]?i[1].url:null,absolute:!0}}),e.$on("clear",i[24]),e.$on("edit",i[38]);function o(r){i[39](r)}let u={value:i[1],label:i[3],i18n:i[10],dispatch_blob:i[22],waveform_settings:i[11],waveform_options:i[13],trim_region_settings:i[12],handle_reset_value:i[14],editable:i[15],loop:i[5],interactive:!0};return i[20]!==void 0&&(u.mode=i[20]),n=new bt({props:u}),T.push(()=>ee(n,"mode",o)),n.$on("stop",i[40]),n.$on("play",i[41]),n.$on("pause",i[42]),n.$on("edit",i[43]),{c(){O(e.$$.fragment),t=C(),O(n.$$.fragment)},m(r,_){N(e,r,_),z(r,t,_),N(n,r,_),a=!0},p(r,_){const l={};_[0]&1024&&(l.i18n=r[10]),_[0]&130&&(l.download=r[7]?r[1].url:null),e.$set(l);const c={};_[0]&2&&(c.value=r[1]),_[0]&8&&(c.label=r[3]),_[0]&1024&&(c.i18n=r[10]),_[0]&2048&&(c.waveform_settings=r[11]),_[0]&8192&&(c.waveform_options=r[13]),_[0]&4096&&(c.trim_region_settings=r[12]),_[0]&16384&&(c.handle_reset_value=r[14]),_[0]&32768&&(c.editable=r[15]),_[0]&32&&(c.loop=r[5]),!s&&_[0]&1048576&&(s=!0,c.mode=r[20],te(()=>s=!1)),n.$set(c)},i(r){a||(D(e.$$.fragment,r),D(n.$$.fragment,r),a=!0)},o(r){E(e.$$.fragment,r),E(n.$$.fragment,r),a=!1},d(r){r&&B(t),W(e,r),W(n,r)}}}function Gt(i){let e,t,n,s;const a=[Kt,Yt],o=[];function u(r,_){return r[2]==="microphone"?0:r[2]==="upload"?1:-1}return~(e=u(i))&&(t=o[e]=a[e](i)),{c(){t&&t.c(),n=we()},m(r,_){~e&&o[e].m(r,_),z(r,n,_),s=!0},p(r,_){let l=e;e=u(r),e===l?~e&&o[e].p(r,_):(t&&(ce(),E(o[l],1,1,()=>{o[l]=null}),_e()),~e?(t=o[e],t?t.p(r,_):(t=o[e]=a[e](r),t.c()),D(t,1),t.m(n.parentNode,n)):t=null)},i(r){s||(D(t),s=!0)},o(r){E(t),s=!1},d(r){r&&B(n),~e&&o[e].d(r)}}}function Yt(i){let e,t,n;function s(o){i[36](o)}let a={filetype:"audio/aac,audio/midi,audio/mpeg,audio/ogg,audio/wav,audio/x-wav,audio/opus,audio/webm,audio/flac,audio/vnd.rn-realaudio,audio/x-ms-wma,audio/x-aiff,audio/amr,audio/*",root:i[4],max_file_size:i[16],upload:i[17],stream_handler:i[18],$$slots:{default:[Qt]},$$scope:{ctx:i}};return i[0]!==void 0&&(a.dragging=i[0]),e=new vt({props:a}),T.push(()=>ee(e,"dragging",s)),e.$on("load",i[25]),e.$on("error",i[37]),{c(){O(e.$$.fragment)},m(o,u){N(e,o,u),n=!0},p(o,u){const r={};u[0]&16&&(r.root=o[4]),u[0]&65536&&(r.max_file_size=o[16]),u[0]&131072&&(r.upload=o[17]),u[0]&262144&&(r.stream_handler=o[18]),u[1]&16384&&(r.$$scope={dirty:u,ctx:o}),!t&&u[0]&1&&(t=!0,r.dragging=o[0],te(()=>t=!1)),e.$set(r)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function Kt(i){let e,t,n,s,a,o;e=new ot({props:{i18n:i[10],absolute:!0}}),e.$on("clear",i[24]);const u=[Zt,Xt],r=[];function _(l,c){return l[9]?0:1}return n=_(i),s=r[n]=u[n](i),{c(){O(e.$$.fragment),t=C(),s.c(),a=we()},m(l,c){N(e,l,c),z(l,t,c),r[n].m(l,c),z(l,a,c),o=!0},p(l,c){const d={};c[0]&1024&&(d.i18n=l[10]),e.$set(d);let m=n;n=_(l),n===m?r[n].p(l,c):(ce(),E(r[m],1,1,()=>{r[m]=null}),_e(),s=r[n],s?s.p(l,c):(s=r[n]=u[n](l),s.c()),D(s,1),s.m(a.parentNode,a))},i(l){o||(D(e.$$.fragment,l),D(s),o=!0)},o(l){E(e.$$.fragment,l),E(s),o=!1},d(l){l&&(B(t),B(a)),W(e,l),r[n].d(l)}}}function Qt(i){let e;const t=i[31].default,n=ct(t,i,i[45],null);return{c(){n&&n.c()},m(s,a){n&&n.m(s,a),e=!0},p(s,a){n&&n.p&&(!e||a[1]&16384)&&_t(n,t,s,s[45],e?mt(t,s[45],a,null):dt(s[45]),null)},i(s){e||(D(n,s),e=!0)},o(s){E(n,s),e=!1},d(s){n&&n.d(s)}}}function Xt(i){let e,t,n;function s(o){i[32](o)}let a={i18n:i[10],editable:i[15],dispatch_blob:i[22],waveform_settings:i[11],waveform_options:i[13],handle_reset_value:i[14]};return i[20]!==void 0&&(a.mode=i[20]),e=new Wt({props:a}),T.push(()=>ee(e,"mode",s)),e.$on("start_recording",i[33]),e.$on("pause_recording",i[34]),e.$on("stop_recording",i[35]),{c(){O(e.$$.fragment)},m(o,u){N(e,o,u),n=!0},p(o,u){const r={};u[0]&1024&&(r.i18n=o[10]),u[0]&32768&&(r.editable=o[15]),u[0]&2048&&(r.waveform_settings=o[11]),u[0]&8192&&(r.waveform_options=o[13]),u[0]&16384&&(r.handle_reset_value=o[14]),!t&&u[0]&1048576&&(t=!0,r.mode=o[20],te(()=>t=!1)),e.$set(r)},i(o){n||(D(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){W(e,o)}}}function Zt(i){let e,t;return e=new Vt({props:{record:i[23],recording:i[19],stop:i[26],i18n:i[10],waveform_settings:i[11],waveform_options:i[13]}}),{c(){O(e.$$.fragment)},m(n,s){N(e,n,s),t=!0},p(n,s){const a={};s[0]&524288&&(a.recording=n[19]),s[0]&1024&&(a.i18n=n[10]),s[0]&2048&&(a.waveform_settings=n[11]),s[0]&8192&&(a.waveform_options=n[13]),e.$set(a)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function $t(i){let e,t,n,s,a,o,u,r,_;e=new pt({props:{show_label:i[6],Icon:kt,float:i[2]==="upload"&&i[1]===null,label:i[3]||i[10]("audio.audio")}});const l=[Gt,Jt],c=[];function d(b,p){return b[1]===null||b[9]?0:1}s=d(i),a=c[s]=l[s](i);function m(b){i[44](b)}let v={sources:i[8],handle_clear:i[24]};return i[2]!==void 0&&(v.active_source=i[2]),u=new yt({props:v}),T.push(()=>ee(u,"active_source",m)),{c(){O(e.$$.fragment),t=C(),n=S("div"),a.c(),o=C(),O(u.$$.fragment),A(n,"class","audio-container svelte-cbyffp")},m(b,p){N(e,b,p),z(b,t,p),z(b,n,p),c[s].m(n,null),y(n,o),N(u,n,null),_=!0},p(b,p){const M={};p[0]&64&&(M.show_label=b[6]),p[0]&6&&(M.float=b[2]==="upload"&&b[1]===null),p[0]&1032&&(M.label=b[3]||b[10]("audio.audio")),e.$set(M);let P=s;s=d(b),s===P?c[s].p(b,p):(ce(),E(c[P],1,1,()=>{c[P]=null}),_e(),a=c[s],a?a.p(b,p):(a=c[s]=l[s](b),a.c()),D(a,1),a.m(n,o));const k={};p[0]&256&&(k.sources=b[8]),!r&&p[0]&4&&(r=!0,k.active_source=b[2],te(()=>r=!1)),u.$set(k)},i(b){_||(D(e.$$.fragment,b),D(a),D(u.$$.fragment,b),_=!0)},o(b){E(e.$$.fragment,b),E(a),E(u.$$.fragment,b),_=!1},d(b){b&&(B(t),B(n)),W(e,b),c[s].d(),W(u)}}}const xt=500,xe=44;function ei(i,e,t){let{$$slots:n={},$$scope:s}=e,{value:a=null}=e,{label:o}=e,{root:u}=e,{loop:r}=e,{show_label:_=!0}=e,{show_download_button:l=!1}=e,{sources:c=["microphone","upload"]}=e,{pending:d=!1}=e,{streaming:m=!1}=e,{i18n:v}=e,{waveform_settings:b}=e,{trim_region_settings:p={}}=e,{waveform_options:M={}}=e,{dragging:P}=e,{active_source:k}=e,{handle_reset_value:J=()=>{}}=e,{editable:G=!0}=e,{max_file_size:U=null}=e,{upload:Q}=e,{stream_handler:j}=e,h=!1,L,F="",H,I=[],X=!1,q=!1,R=[],V;function se(){V=[He(()=>import("./module-CUWYYYlp.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),He(()=>import("./module-BA06XY8_.js"),__vite__mapDeps([4,1]),import.meta.url)]}m&&se();const Y=Oe(),ie=async(f,K)=>{let re=new File(f,"audio.wav");const ge=await ft([re],K==="stream");t(1,a=(await Q(ge,u,void 0,U||void 0))?.filter(Boolean)[0]),Y(K,a)};ut(()=>{m&&L&&L.state!=="inactive"&&L.stop()});async function w(){let f;try{f=await navigator.mediaDevices.getUserMedia({audio:!0})}catch(K){if(!navigator.mediaDevices){Y("error",v("audio.no_device_support"));return}if(K instanceof DOMException&&K.name=="NotAllowedError"){Y("error",v("audio.allow_recording_access"));return}throw K}if(f!=null){if(m){const[{MediaRecorder:K,register:re},{connect:ge}]=await Promise.all(V);await re(await ge()),L=new K(f,{mimeType:"audio/wav"}),L.addEventListener("dataavailable",Z)}else L=new MediaRecorder(f),L.addEventListener("dataavailable",K=>{R.push(K.data)}),L.addEventListener("stop",async()=>{t(19,h=!1),await ie(R,"change"),await ie(R,"stop_recording"),R=[]});q=!0}}async function Z(f){let K=await f.data.arrayBuffer(),re=new Uint8Array(K);if(H||(t(28,H=new Uint8Array(K.slice(0,xe))),re=new Uint8Array(K.slice(xe))),d)I.push(re);else{let ge=[H].concat(I,[re]);ie(ge,"stream"),t(29,I=[])}}async function ne(){t(19,h=!0),Y("start_recording"),q||await w(),t(28,H=void 0),m&&L.start(xt)}function oe(){Y("change",null),Y("clear"),t(20,F=""),t(1,a=null)}function fe({detail:f}){t(1,a=f),Y("change",f),Y("upload",f)}function ve(){t(19,h=!1),m&&(Y("stop_recording"),L.stop(),d&&t(30,X=!0),ie(R,"stop_recording"),Y("clear"),t(20,F=""))}function pe(f){F=f,t(20,F)}function ke(f){ae.call(this,i,f)}function ye(f){ae.call(this,i,f)}function Re(f){ae.call(this,i,f)}function De(f){P=f,t(0,P)}const Ee=({detail:f})=>Y("error",f),Ae=()=>t(20,F="edit");function Me(f){F=f,t(20,F)}function Se(f){ae.call(this,i,f)}function Pe(f){ae.call(this,i,f)}function Le(f){ae.call(this,i,f)}function Ie(f){ae.call(this,i,f)}function ze(f){k=f,t(2,k)}return i.$$set=f=>{"value"in f&&t(1,a=f.value),"label"in f&&t(3,o=f.label),"root"in f&&t(4,u=f.root),"loop"in f&&t(5,r=f.loop),"show_label"in f&&t(6,_=f.show_label),"show_download_button"in f&&t(7,l=f.show_download_button),"sources"in f&&t(8,c=f.sources),"pending"in f&&t(27,d=f.pending),"streaming"in f&&t(9,m=f.streaming),"i18n"in f&&t(10,v=f.i18n),"waveform_settings"in f&&t(11,b=f.waveform_settings),"trim_region_settings"in f&&t(12,p=f.trim_region_settings),"waveform_options"in f&&t(13,M=f.waveform_options),"dragging"in f&&t(0,P=f.dragging),"active_source"in f&&t(2,k=f.active_source),"handle_reset_value"in f&&t(14,J=f.handle_reset_value),"editable"in f&&t(15,G=f.editable),"max_file_size"in f&&t(16,U=f.max_file_size),"upload"in f&&t(17,Q=f.upload),"stream_handler"in f&&t(18,j=f.stream_handler),"$$scope"in f&&t(45,s=f.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&1&&Y("drag",P),i.$$.dirty[0]&2013265920&&X&&d===!1&&(t(30,X=!1),H&&I)){let f=[H].concat(I);t(29,I=[]),ie(f,"stream")}},[P,a,k,o,u,r,_,l,c,m,v,b,p,M,J,G,U,Q,j,h,F,Y,ie,ne,oe,fe,ve,d,H,I,X,n,pe,ke,ye,Re,De,Ee,Ae,Me,Se,Pe,Le,Ie,ze,s]}class ti extends de{constructor(e){super(),me(this,e,ei,$t,he,{value:1,label:3,root:4,loop:5,show_label:6,show_download_button:7,sources:8,pending:27,streaming:9,i18n:10,waveform_settings:11,trim_region_settings:12,waveform_options:13,dragging:0,active_source:2,handle_reset_value:14,editable:15,max_file_size:16,upload:17,stream_handler:18},null,[-1,-1])}get value(){return this.$$.ctx[1]}set value(e){this.$$set({value:e}),g()}get label(){return this.$$.ctx[3]}set label(e){this.$$set({label:e}),g()}get root(){return this.$$.ctx[4]}set root(e){this.$$set({root:e}),g()}get loop(){return this.$$.ctx[5]}set loop(e){this.$$set({loop:e}),g()}get show_label(){return this.$$.ctx[6]}set show_label(e){this.$$set({show_label:e}),g()}get show_download_button(){return this.$$.ctx[7]}set show_download_button(e){this.$$set({show_download_button:e}),g()}get sources(){return this.$$.ctx[8]}set sources(e){this.$$set({sources:e}),g()}get pending(){return this.$$.ctx[27]}set pending(e){this.$$set({pending:e}),g()}get streaming(){return this.$$.ctx[9]}set streaming(e){this.$$set({streaming:e}),g()}get i18n(){return this.$$.ctx[10]}set i18n(e){this.$$set({i18n:e}),g()}get waveform_settings(){return this.$$.ctx[11]}set waveform_settings(e){this.$$set({waveform_settings:e}),g()}get trim_region_settings(){return this.$$.ctx[12]}set trim_region_settings(e){this.$$set({trim_region_settings:e}),g()}get waveform_options(){return this.$$.ctx[13]}set waveform_options(e){this.$$set({waveform_options:e}),g()}get dragging(){return this.$$.ctx[0]}set dragging(e){this.$$set({dragging:e}),g()}get active_source(){return this.$$.ctx[2]}set active_source(e){this.$$set({active_source:e}),g()}get handle_reset_value(){return this.$$.ctx[14]}set handle_reset_value(e){this.$$set({handle_reset_value:e}),g()}get editable(){return this.$$.ctx[15]}set editable(e){this.$$set({editable:e}),g()}get max_file_size(){return this.$$.ctx[16]}set max_file_size(e){this.$$set({max_file_size:e}),g()}get upload(){return this.$$.ctx[17]}set upload(e){this.$$set({upload:e}),g()}get stream_handler(){return this.$$.ctx[18]}set stream_handler(e){this.$$set({stream_handler:e}),g()}}const ii=ti;function ni(i){let e,t;return e=new et({props:{variant:i[0]===null&&i[21]==="upload"?"dashed":"solid",border_mode:i[22]?"focus":"base",padding:!1,allow_overflow:!1,elem_id:i[2],elem_classes:i[3],visible:i[4],container:i[10],scale:i[11],min_width:i[12],$$slots:{default:[ri]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,s){N(e,n,s),t=!0},p(n,s){const a={};s[0]&2097153&&(a.variant=n[0]===null&&n[21]==="upload"?"dashed":"solid"),s[0]&4194304&&(a.border_mode=n[22]?"focus":"base"),s[0]&4&&(a.elem_id=n[2]),s[0]&8&&(a.elem_classes=n[3]),s[0]&16&&(a.visible=n[4]),s[0]&1024&&(a.container=n[10]),s[0]&2048&&(a.scale=n[11]),s[0]&4096&&(a.min_width=n[12]),s[0]&16737219|s[1]&4194304&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function si(i){let e,t;return e=new et({props:{variant:"solid",border_mode:i[22]?"focus":"base",padding:!1,allow_overflow:!1,elem_id:i[2],elem_classes:i[3],visible:i[4],container:i[10],scale:i[11],min_width:i[12],$$slots:{default:[li]},$$scope:{ctx:i}}}),{c(){O(e.$$.fragment)},m(n,s){N(e,n,s),t=!0},p(n,s){const a={};s[0]&4194304&&(a.border_mode=n[22]?"focus":"base"),s[0]&4&&(a.elem_id=n[2]),s[0]&8&&(a.elem_classes=n[3]),s[0]&16&&(a.visible=n[4]),s[0]&1024&&(a.container=n[10]),s[0]&2048&&(a.scale=n[11]),s[0]&4096&&(a.min_width=n[12]),s[0]&9691779|s[1]&4194304&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function oi(i){let e,t;return e=new Dt({props:{i18n:i[20].i18n,type:"audio"}}),{c(){O(e.$$.fragment)},m(n,s){N(e,n,s),t=!0},p(n,s){const a={};s[0]&1048576&&(a.i18n=n[20].i18n),e.$set(a)},i(n){t||(D(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){W(e,n)}}}function ri(i){let e,t,n,s,a;const o=[{autoscroll:i[20].autoscroll},{i18n:i[20].i18n},i[1]];let u={};for(let l=0;l<o.length;l+=1)u=tt(u,o[l]);e=new it({props:u}),e.$on("clear_status",i[37]);function r(l){i[38](l)}let _={label:i[7],show_label:i[9],show_download_button:i[14],value:i[0],root:i[8],sources:i[6],active_source:i[21],pending:i[18],streaming:i[19],loop:i[13],max_file_size:i[20].max_file_size,handle_reset_value:i[24],editable:i[16],i18n:i[20].i18n,waveform_settings:i[23],waveform_options:i[17],trim_region_settings:i[25],upload:i[20].client.upload,stream_handler:i[20].client.stream,$$slots:{default:[oi]},$$scope:{ctx:i}};return i[22]!==void 0&&(_.dragging=i[22]),n=new ii({props:_}),T.push(()=>ee(n,"dragging",r)),n.$on("change",i[39]),n.$on("stream",i[40]),n.$on("drag",i[41]),n.$on("edit",i[42]),n.$on("play",i[43]),n.$on("pause",i[44]),n.$on("stop",i[45]),n.$on("start_recording",i[46]),n.$on("pause_recording",i[47]),n.$on("stop_recording",i[48]),n.$on("upload",i[49]),n.$on("clear",i[50]),n.$on("error",i[26]),{c(){O(e.$$.fragment),t=C(),O(n.$$.fragment)},m(l,c){N(e,l,c),z(l,t,c),N(n,l,c),a=!0},p(l,c){const d=c[0]&1048578?nt(o,[c[0]&1048576&&{autoscroll:l[20].autoscroll},c[0]&1048576&&{i18n:l[20].i18n},c[0]&2&&st(l[1])]):{};e.$set(d);const m={};c[0]&128&&(m.label=l[7]),c[0]&512&&(m.show_label=l[9]),c[0]&16384&&(m.show_download_button=l[14]),c[0]&1&&(m.value=l[0]),c[0]&256&&(m.root=l[8]),c[0]&64&&(m.sources=l[6]),c[0]&2097152&&(m.active_source=l[21]),c[0]&262144&&(m.pending=l[18]),c[0]&524288&&(m.streaming=l[19]),c[0]&8192&&(m.loop=l[13]),c[0]&1048576&&(m.max_file_size=l[20].max_file_size),c[0]&65536&&(m.editable=l[16]),c[0]&1048576&&(m.i18n=l[20].i18n),c[0]&8388608&&(m.waveform_settings=l[23]),c[0]&131072&&(m.waveform_options=l[17]),c[0]&1048576&&(m.upload=l[20].client.upload),c[0]&1048576&&(m.stream_handler=l[20].client.stream),c[0]&1048576|c[1]&4194304&&(m.$$scope={dirty:c,ctx:l}),!s&&c[0]&4194304&&(s=!0,m.dragging=l[22],te(()=>s=!1)),n.$set(m)},i(l){a||(D(e.$$.fragment,l),D(n.$$.fragment,l),a=!0)},o(l){E(e.$$.fragment,l),E(n.$$.fragment,l),a=!1},d(l){l&&B(t),W(e,l),W(n,l)}}}function li(i){let e,t,n,s;const a=[{autoscroll:i[20].autoscroll},{i18n:i[20].i18n},i[1]];let o={};for(let u=0;u<a.length;u+=1)o=tt(o,a[u]);return e=new it({props:o}),e.$on("clear_status",i[31]),n=new wt({props:{i18n:i[20].i18n,show_label:i[9],show_download_button:i[14],show_share_button:i[15],value:i[0],label:i[7],loop:i[13],waveform_settings:i[23],waveform_options:i[17],editable:i[16]}}),n.$on("share",i[32]),n.$on("error",i[33]),n.$on("play",i[34]),n.$on("pause",i[35]),n.$on("stop",i[36]),{c(){O(e.$$.fragment),t=C(),O(n.$$.fragment)},m(u,r){N(e,u,r),z(u,t,r),N(n,u,r),s=!0},p(u,r){const _=r[0]&1048578?nt(a,[r[0]&1048576&&{autoscroll:u[20].autoscroll},r[0]&1048576&&{i18n:u[20].i18n},r[0]&2&&st(u[1])]):{};e.$set(_);const l={};r[0]&1048576&&(l.i18n=u[20].i18n),r[0]&512&&(l.show_label=u[9]),r[0]&16384&&(l.show_download_button=u[14]),r[0]&32768&&(l.show_share_button=u[15]),r[0]&1&&(l.value=u[0]),r[0]&128&&(l.label=u[7]),r[0]&8192&&(l.loop=u[13]),r[0]&8388608&&(l.waveform_settings=u[23]),r[0]&131072&&(l.waveform_options=u[17]),r[0]&65536&&(l.editable=u[16]),n.$set(l)},i(u){s||(D(e.$$.fragment,u),D(n.$$.fragment,u),s=!0)},o(u){E(e.$$.fragment,u),E(n.$$.fragment,u),s=!1},d(u){u&&B(t),W(e,u),W(n,u)}}}function ai(i){let e,t,n,s;const a=[si,ni],o=[];function u(r,_){return r[5]?1:0}return e=u(i),t=o[e]=a[e](i),{c(){t.c(),n=we()},m(r,_){o[e].m(r,_),z(r,n,_),s=!0},p(r,_){let l=e;e=u(r),e===l?o[e].p(r,_):(ce(),E(o[l],1,1,()=>{o[l]=null}),_e(),t=o[e],t?t.p(r,_):(t=o[e]=a[e](r),t.c()),D(t,1),t.m(n.parentNode,n))},i(r){s||(D(t),s=!0)},o(r){E(t),s=!1},d(r){r&&B(n),o[e].d(r)}}}function ui(i,e,t){let{value_is_output:n=!1}=e,{elem_id:s=""}=e,{elem_classes:a=[]}=e,{visible:o=!0}=e,{interactive:u}=e,{value:r=null}=e,{sources:_}=e,{label:l}=e,{root:c}=e,{show_label:d}=e,{container:m=!0}=e,{scale:v=null}=e,{min_width:b=void 0}=e,{loading_status:p}=e,{autoplay:M=!1}=e,{loop:P=!1}=e,{show_download_button:k}=e,{show_share_button:J=!1}=e,{editable:G=!0}=e,{waveform_options:U={}}=e,{pending:Q}=e,{streaming:j}=e,{gradio:h}=e,L=null,F,H=r;const I=()=>{H===null||r===H||t(0,r=H)};let X,q,R="darkorange";Ne(()=>{R=getComputedStyle(document?.documentElement).getPropertyValue("--color-accent"),se(),t(23,q.waveColor=U.waveform_color||"#9ca3af",q),t(23,q.progressColor=U.waveform_progress_color||R,q),t(23,q.mediaControls=U.show_controls,q),t(23,q.sampleRate=U.sample_rate||44100,q)});const V={color:U.trim_region_color,drag:!0,resize:!0};function se(){document.documentElement.style.setProperty("--trim-region-color",V.color||R)}function Y({detail:f}){const[K,re]=f.includes("Invalid file type")?["warning","complete"]:["error","error"];t(1,p=p||{}),t(1,p.status=re,p),t(1,p.message=f,p),h.dispatch(K,f)}ht(()=>{t(27,n=!1)});const ie=()=>h.dispatch("clear_status",p),w=f=>h.dispatch("share",f.detail),Z=f=>h.dispatch("error",f.detail),ne=()=>h.dispatch("play"),oe=()=>h.dispatch("pause"),fe=()=>h.dispatch("stop"),ve=()=>h.dispatch("clear_status",p);function pe(f){X=f,t(22,X)}const ke=({detail:f})=>t(0,r=f),ye=({detail:f})=>{t(0,r=f),h.dispatch("stream",r)},Re=({detail:f})=>t(22,X=f),De=()=>h.dispatch("edit"),Ee=()=>h.dispatch("play"),Ae=()=>h.dispatch("pause"),Me=()=>h.dispatch("stop"),Se=()=>h.dispatch("start_recording"),Pe=()=>h.dispatch("pause_recording"),Le=f=>h.dispatch("stop_recording"),Ie=()=>h.dispatch("upload"),ze=()=>h.dispatch("clear");return i.$$set=f=>{"value_is_output"in f&&t(27,n=f.value_is_output),"elem_id"in f&&t(2,s=f.elem_id),"elem_classes"in f&&t(3,a=f.elem_classes),"visible"in f&&t(4,o=f.visible),"interactive"in f&&t(5,u=f.interactive),"value"in f&&t(0,r=f.value),"sources"in f&&t(6,_=f.sources),"label"in f&&t(7,l=f.label),"root"in f&&t(8,c=f.root),"show_label"in f&&t(9,d=f.show_label),"container"in f&&t(10,m=f.container),"scale"in f&&t(11,v=f.scale),"min_width"in f&&t(12,b=f.min_width),"loading_status"in f&&t(1,p=f.loading_status),"autoplay"in f&&t(28,M=f.autoplay),"loop"in f&&t(13,P=f.loop),"show_download_button"in f&&t(14,k=f.show_download_button),"show_share_button"in f&&t(15,J=f.show_share_button),"editable"in f&&t(16,G=f.editable),"waveform_options"in f&&t(17,U=f.waveform_options),"pending"in f&&t(18,Q=f.pending),"streaming"in f&&t(19,j=f.streaming),"gradio"in f&&t(20,h=f.gradio)},i.$$.update=()=>{i.$$.dirty[0]&1073741825&&r&&H===null&&t(30,H=r),i.$$.dirty[0]&672137217&&JSON.stringify(r)!==JSON.stringify(L)&&(t(29,L=r),h.dispatch("change"),n||h.dispatch("input")),i.$$.dirty[0]&2097216&&!F&&_&&t(21,F=_[0]),i.$$.dirty[0]&268435456&&t(23,q={height:50,barWidth:2,barGap:3,cursorWidth:2,cursorColor:"#ddd5e9",autoplay:M,barRadius:10,dragToSeek:!0,normalize:!0,minPxPerSec:20})},[r,p,s,a,o,u,_,l,c,d,m,v,b,P,k,J,G,U,Q,j,h,F,X,q,I,V,Y,n,M,L,H,ie,w,Z,ne,oe,fe,ve,pe,ke,ye,Re,De,Ee,Ae,Me,Se,Pe,Le,Ie,ze]}class fi extends de{constructor(e){super(),me(this,e,ui,ai,he,{value_is_output:27,elem_id:2,elem_classes:3,visible:4,interactive:5,value:0,sources:6,label:7,root:8,show_label:9,container:10,scale:11,min_width:12,loading_status:1,autoplay:28,loop:13,show_download_button:14,show_share_button:15,editable:16,waveform_options:17,pending:18,streaming:19,gradio:20},null,[-1,-1])}get value_is_output(){return this.$$.ctx[27]}set value_is_output(e){this.$$set({value_is_output:e}),g()}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),g()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),g()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),g()}get interactive(){return this.$$.ctx[5]}set interactive(e){this.$$set({interactive:e}),g()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),g()}get sources(){return this.$$.ctx[6]}set sources(e){this.$$set({sources:e}),g()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),g()}get root(){return this.$$.ctx[8]}set root(e){this.$$set({root:e}),g()}get show_label(){return this.$$.ctx[9]}set show_label(e){this.$$set({show_label:e}),g()}get container(){return this.$$.ctx[10]}set container(e){this.$$set({container:e}),g()}get scale(){return this.$$.ctx[11]}set scale(e){this.$$set({scale:e}),g()}get min_width(){return this.$$.ctx[12]}set min_width(e){this.$$set({min_width:e}),g()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),g()}get autoplay(){return this.$$.ctx[28]}set autoplay(e){this.$$set({autoplay:e}),g()}get loop(){return this.$$.ctx[13]}set loop(e){this.$$set({loop:e}),g()}get show_download_button(){return this.$$.ctx[14]}set show_download_button(e){this.$$set({show_download_button:e}),g()}get show_share_button(){return this.$$.ctx[15]}set show_share_button(e){this.$$set({show_share_button:e}),g()}get editable(){return this.$$.ctx[16]}set editable(e){this.$$set({editable:e}),g()}get waveform_options(){return this.$$.ctx[17]}set waveform_options(e){this.$$set({waveform_options:e}),g()}get pending(){return this.$$.ctx[18]}set pending(e){this.$$set({pending:e}),g()}get streaming(){return this.$$.ctx[19]}set streaming(e){this.$$set({streaming:e}),g()}get gradio(){return this.$$.ctx[20]}set gradio(e){this.$$set({gradio:e}),g()}}const Si=fi;export{Ii as BaseExample,ii as BaseInteractiveAudio,bt as BasePlayer,wt as BaseStaticAudio,Si as default};
//# sourceMappingURL=index-Eq5nxS8L.js.map
