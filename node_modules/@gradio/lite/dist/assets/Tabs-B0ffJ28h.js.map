{"version":3,"file":"Tabs-B0ffJ28h.js","sources":["../../../tabs/dist/shared/Tabs.svelte"],"sourcesContent":["<script context=\"module\">\n\texport const TABS = {};\n</script>\n\n<script>import { setContext, createEventDispatcher } from \"svelte\";\nimport { writable } from \"svelte/store\";\nexport let visible = true;\nexport let elem_id = \"id\";\nexport let elem_classes = [];\nexport let selected;\nlet tabs = [];\nconst selected_tab = writable(false);\nconst selected_tab_index = writable(0);\nconst dispatch = createEventDispatcher();\nsetContext(TABS, {\n  register_tab: (tab) => {\n    let index;\n    let existingTab = tabs.find((t) => t.id === tab.id);\n    if (existingTab) {\n      index = tabs.findIndex((t) => t.id === tab.id);\n      tabs[index] = { ...tabs[index], ...tab };\n    } else {\n      tabs.push({\n        name: tab.name,\n        id: tab.id,\n        elem_id: tab.elem_id,\n        visible: tab.visible,\n        interactive: tab.interactive\n      });\n      index = tabs.length - 1;\n    }\n    selected_tab.update((current) => {\n      if (current === false && tab.visible && tab.interactive) {\n        return tab.id;\n      }\n      let nextTab = tabs.find((t) => t.visible && t.interactive);\n      return nextTab ? nextTab.id : current;\n    });\n    tabs = tabs;\n    return index;\n  },\n  unregister_tab: (tab) => {\n    const i = tabs.findIndex((t) => t.id === tab.id);\n    tabs.splice(i, 1);\n    selected_tab.update(\n      (current) => current === tab.id ? tabs[i]?.id || tabs[tabs.length - 1]?.id : current\n    );\n  },\n  selected_tab,\n  selected_tab_index\n});\nfunction change_tab(id) {\n  const tab_to_activate = tabs.find((t) => t.id === id);\n  if (tab_to_activate && tab_to_activate.interactive && tab_to_activate.visible) {\n    selected = id;\n    $selected_tab = id;\n    $selected_tab_index = tabs.findIndex((t) => t.id === id);\n    dispatch(\"change\");\n  } else {\n    console.warn(\"Attempted to select a non-interactive or hidden tab.\");\n  }\n}\n$:\n  tabs, selected !== null && change_tab(selected);\n</script>\n\n<div class=\"tabs {elem_classes.join(' ')}\" class:hide={!visible} id={elem_id}>\n\t<div class=\"tab-nav scroll-hide\" role=\"tablist\">\n\t\t{#each tabs as t, i (t.id)}\n\t\t\t{#if t.visible}\n\t\t\t\t{#if t.id === $selected_tab}\n\t\t\t\t\t<button\n\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\tclass=\"selected\"\n\t\t\t\t\t\taria-selected={true}\n\t\t\t\t\t\taria-controls={t.elem_id}\n\t\t\t\t\t\tid={t.elem_id ? t.elem_id + \"-button\" : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t.name}\n\t\t\t\t\t</button>\n\t\t\t\t{:else}\n\t\t\t\t\t<button\n\t\t\t\t\t\trole=\"tab\"\n\t\t\t\t\t\taria-selected={false}\n\t\t\t\t\t\taria-controls={t.elem_id}\n\t\t\t\t\t\tdisabled={!t.interactive}\n\t\t\t\t\t\taria-disabled={!t.interactive}\n\t\t\t\t\t\tid={t.elem_id ? t.elem_id + \"-button\" : null}\n\t\t\t\t\t\ton:click={() => {\n\t\t\t\t\t\t\tchange_tab(t.id);\n\t\t\t\t\t\t\tdispatch(\"select\", { value: t.name, index: i });\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{t.name}\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t{/if}\n\t\t{/each}\n\t</div>\n\t<slot />\n</div>\n\n<style>\n\t.tabs {\n\t\tposition: relative;\n\t}\n\n\t.hide {\n\t\tdisplay: none;\n\t}\n\n\t.tab-nav {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t\tflex-wrap: wrap;\n\t\tborder-bottom: 1px solid var(--border-color-primary);\n\t}\n\n\tbutton {\n\t\tmargin-bottom: -1px;\n\t\tborder: 1px solid transparent;\n\t\tborder-color: transparent;\n\t\tborder-bottom: none;\n\t\tborder-top-right-radius: var(--container-radius);\n\t\tborder-top-left-radius: var(--container-radius);\n\t\tpadding: var(--size-1) var(--size-4);\n\t\tcolor: var(--body-text-color-subdued);\n\t\tfont-weight: var(--section-header-text-weight);\n\t\tfont-size: var(--section-header-text-size);\n\t}\n\n\tbutton:disabled {\n\t\tcolor: var(--body-text-color-subdued);\n\t\topacity: 0.5;\n\t\tcursor: not-allowed;\n\t}\n\n\tbutton:hover {\n\t\tcolor: var(--body-text-color);\n\t}\n\t.selected {\n\t\tborder-color: var(--border-color-primary);\n\t\tbackground: var(--background-fill-primary);\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.bar {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbottom: -2px;\n\t\tleft: 0;\n\t\tz-index: 999;\n\t\tbackground: var(--background-fill-primary);\n\t\twidth: 100%;\n\t\theight: 2px;\n\t\tcontent: \"\";\n\t}\n</style>\n"],"names":["ctx","create_if_block_1","t0_value","attr","button","button_aria_controls_value","button_disabled_value","button_aria_disabled_value","button_id_value","insert","target","anchor","dirty","set_data","t0","if_block","create_if_block","get_key","i","div1","append","div0","TABS","visible","$$props","elem_id","elem_classes","selected","tabs","selected_tab","writable","selected_tab_index","dispatch","createEventDispatcher","setContext","tab","index","t","$$invalidate","current","nextTab","change_tab","id","tab_to_activate","set_store_value","$selected_tab","$selected_tab_index"],"mappings":"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"}