import{d as Y,i as K,e as R,g as z,h as p,F as V,Y as U,m as v,v as H,G as B,k as b,H as F,j as c,x as j,l as I,J as W,a9 as X,af as Z,O as C,Q as y,y as L,z as S,A as G,C as D,V as x,ag as A}from"../lite.js";import{B as ee}from"./BlockLabel-BXhHlgLF.js";import{E as te}from"./Empty-DQJy8RTG.js";import{S as ne}from"./ShareButton-Ciy_LqZ2.js";import{D as le}from"./Download-Cztu3L0x.js";import{M as se,a as oe}from"./Minimize-DIY7_XRY.js";import{I as Q}from"./Image-qZS1Nt0l.js";import{g as ae}from"./utils-Gtzs_Zla.js";import{I as re}from"./Image-eRhrELVs.js";import{D as ie}from"./DownloadLink-4k_Toddh.js";/* empty css                                                   */import"./file-url-D8iSvEay.js";function ue(l){let e,n,t,s,o,k,$,h,d,a,g,E,i=!l[8]&&l[7]&&J(l),f=l[8]&&l[7]&&N(l),_=l[3]&&O(l),m=l[5]&&P(l);return d=new re({props:{src:l[0].url,alt:"",loading:"lazy"}}),d.$on("load",l[15]),{c(){e=L("div"),n=L("div"),i&&i.c(),t=V(),f&&f.c(),s=V(),_&&_.c(),o=V(),m&&m.c(),k=V(),$=L("button"),h=L("div"),p(d.$$.fragment),S(n,"class","icon-buttons svelte-1p15vfy"),S(h,"class","image-frame svelte-1p15vfy"),G(h,"selectable",l[4]),S($,"class","svelte-1p15vfy"),S(e,"class","image-container svelte-1p15vfy")},m(u,w){H(u,e,w),D(e,n),i&&i.m(n,null),D(n,t),f&&f.m(n,null),D(n,s),_&&_.m(n,null),D(n,o),m&&m.m(n,null),D(e,k),D(e,$),D($,h),v(d,h,null),l[16](e),a=!0,g||(E=x($,"click",l[10]),g=!0)},p(u,w){!u[8]&&u[7]?i?(i.p(u,w),w&384&&c(i,1)):(i=J(u),i.c(),c(i,1),i.m(n,t)):i&&(B(),b(i,1,1,()=>{i=null}),F()),u[8]&&u[7]?f?(f.p(u,w),w&384&&c(f,1)):(f=N(u),f.c(),c(f,1),f.m(n,s)):f&&(B(),b(f,1,1,()=>{f=null}),F()),u[3]?_?(_.p(u,w),w&8&&c(_,1)):(_=O(u),_.c(),c(_,1),_.m(n,o)):_&&(B(),b(_,1,1,()=>{_=null}),F()),u[5]?m?(m.p(u,w),w&32&&c(m,1)):(m=P(u),m.c(),c(m,1),m.m(n,null)):m&&(B(),b(m,1,1,()=>{m=null}),F());const M={};w&1&&(M.src=u[0].url),d.$set(M),(!a||w&16)&&G(h,"selectable",u[4])},i(u){a||(c(i),c(f),c(_),c(m),c(d.$$.fragment,u),a=!0)},o(u){b(i),b(f),b(_),b(m),b(d.$$.fragment,u),a=!1},d(u){u&&j(e),i&&i.d(),f&&f.d(),_&&_.d(),m&&m.d(),I(d),l[16](null),g=!1,E()}}}function fe(l){let e,n;return e=new te({props:{unpadded_box:!0,size:"large",$$slots:{default:[_e]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},p(t,s){const o={};s&262144&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function J(l){let e,n;return e=new A({props:{Icon:se,label:l[8]?"Exit full screen":"View in full screen"}}),e.$on("click",l[11]),{c(){p(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},p(t,s){const o={};s&256&&(o.label=t[8]?"Exit full screen":"View in full screen"),e.$set(o)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function N(l){let e,n;return e=new A({props:{Icon:oe,label:l[8]?"Exit full screen":"View in full screen"}}),e.$on("click",l[11]),{c(){p(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},p(t,s){const o={};s&256&&(o.label=t[8]?"Exit full screen":"View in full screen"),e.$set(o)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function O(l){let e,n;return e=new ie({props:{href:l[0].url,download:l[0].orig_name||"image",$$slots:{default:[ce]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},p(t,s){const o={};s&1&&(o.href=t[0].url),s&1&&(o.download=t[0].orig_name||"image"),s&262208&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function ce(l){let e,n;return e=new A({props:{Icon:le,label:l[6]("common.download")}}),{c(){p(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},p(t,s){const o={};s&64&&(o.label=t[6]("common.download")),e.$set(o)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function P(l){let e,n;return e=new ne({props:{i18n:l[6],formatter:l[12],value:l[0]}}),e.$on("share",l[13]),e.$on("error",l[14]),{c(){p(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},p(t,s){const o={};s&64&&(o.i18n=t[6]),s&1&&(o.value=t[0]),e.$set(o)},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function _e(l){let e,n;return e=new Q({}),{c(){p(e.$$.fragment)},m(t,s){v(e,t,s),n=!0},i(t){n||(c(e.$$.fragment,t),n=!0)},o(t){b(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function me(l){let e,n,t,s,o,k;e=new ee({props:{show_label:l[2],Icon:Q,label:l[2]?l[1]||l[6]("image.image"):""}});const $=[fe,ue],h=[];function d(a,g){return a[0]===null||!a[0].url?0:1}return t=d(l),s=h[t]=$[t](l),{c(){p(e.$$.fragment),n=V(),s.c(),o=U()},m(a,g){v(e,a,g),H(a,n,g),h[t].m(a,g),H(a,o,g),k=!0},p(a,[g]){const E={};g&4&&(E.show_label=a[2]),g&70&&(E.label=a[2]?a[1]||a[6]("image.image"):""),e.$set(E);let i=t;t=d(a),t===i?h[t].p(a,g):(B(),b(h[i],1,1,()=>{h[i]=null}),F(),s=h[t],s?s.p(a,g):(s=h[t]=$[t](a),s.c()),c(s,1),s.m(o.parentNode,o))},i(a){k||(c(e.$$.fragment,a),c(s),k=!0)},o(a){b(e.$$.fragment,a),b(s),k=!1},d(a){a&&(j(n),j(o)),I(e,a),h[t].d(a)}}}function be(l,e,n){let{value:t}=e,{label:s=void 0}=e,{show_label:o}=e,{show_download_button:k=!0}=e,{selectable:$=!1}=e,{show_share_button:h=!1}=e,{i18n:d}=e,{show_fullscreen_button:a=!0}=e;const g=W(),E=r=>{let q=ae(r);q&&g("select",{index:q,value:null})};let i=!1,f;X(()=>{document.addEventListener("fullscreenchange",()=>{n(8,i=!!document.fullscreenElement)})});const _=async()=>{i?(await document.exitFullscreen(),n(8,i=!i)):await f.requestFullscreen()},m=async r=>r?`<img src="${await Z(r)}" />`:"";function u(r){C.call(this,l,r)}function w(r){C.call(this,l,r)}function M(r){C.call(this,l,r)}function T(r){y[r?"unshift":"push"](()=>{f=r,n(9,f)})}return l.$$set=r=>{"value"in r&&n(0,t=r.value),"label"in r&&n(1,s=r.label),"show_label"in r&&n(2,o=r.show_label),"show_download_button"in r&&n(3,k=r.show_download_button),"selectable"in r&&n(4,$=r.selectable),"show_share_button"in r&&n(5,h=r.show_share_button),"i18n"in r&&n(6,d=r.i18n),"show_fullscreen_button"in r&&n(7,a=r.show_fullscreen_button)},[t,s,o,k,$,h,d,a,i,f,E,_,m,u,w,M,T]}class Ve extends Y{constructor(e){super(),K(this,e,be,me,R,{value:0,label:1,show_label:2,show_download_button:3,selectable:4,show_share_button:5,i18n:6,show_fullscreen_button:7})}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),z()}get label(){return this.$$.ctx[1]}set label(e){this.$$set({label:e}),z()}get show_label(){return this.$$.ctx[2]}set show_label(e){this.$$set({show_label:e}),z()}get show_download_button(){return this.$$.ctx[3]}set show_download_button(e){this.$$set({show_download_button:e}),z()}get selectable(){return this.$$.ctx[4]}set selectable(e){this.$$set({selectable:e}),z()}get show_share_button(){return this.$$.ctx[5]}set show_share_button(e){this.$$set({show_share_button:e}),z()}get i18n(){return this.$$.ctx[6]}set i18n(e){this.$$set({i18n:e}),z()}get show_fullscreen_button(){return this.$$.ctx[7]}set show_fullscreen_button(e){this.$$set({show_fullscreen_button:e}),z()}}export{Ve as default};
//# sourceMappingURL=ImagePreview-DJVrInQ-.js.map
